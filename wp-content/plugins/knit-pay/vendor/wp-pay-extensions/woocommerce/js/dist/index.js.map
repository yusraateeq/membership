{"version":3,"file":"index.js","mappings":"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","sources":["webpack://PronamicPayWooCommerce/external window [\"wc\",\"wcBlocksRegistry\"]","webpack://PronamicPayWooCommerce/external window [\"wc\",\"wcSettings\"]","webpack://PronamicPayWooCommerce/external window [\"wp\",\"components\"]","webpack://PronamicPayWooCommerce/external window [\"wp\",\"element\"]","webpack://PronamicPayWooCommerce/external window [\"wp\",\"htmlEntities\"]","webpack://PronamicPayWooCommerce/./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","webpack://PronamicPayWooCommerce/./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack://PronamicPayWooCommerce/./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack://PronamicPayWooCommerce/./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack://PronamicPayWooCommerce/./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","webpack://PronamicPayWooCommerce/./node_modules/@babel/runtime/helpers/esm/slicedToArray.js","webpack://PronamicPayWooCommerce/./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","webpack://PronamicPayWooCommerce/webpack/bootstrap","webpack://PronamicPayWooCommerce/webpack/runtime/compat get default export","webpack://PronamicPayWooCommerce/webpack/runtime/define property getters","webpack://PronamicPayWooCommerce/webpack/runtime/hasOwnProperty shorthand","webpack://PronamicPayWooCommerce/webpack/runtime/make namespace object","webpack://PronamicPayWooCommerce/./js/src/index.js"],"sourcesContent":["module.exports = window[\"wc\"][\"wcBlocksRegistry\"];","module.exports = window[\"wc\"][\"wcSettings\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"htmlEntities\"];","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n  return arr2;\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _s, _e;\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * External dependencies\n */\nimport { registerPaymentMethod } from '@woocommerce/blocks-registry';\nimport { getSetting } from '@woocommerce/settings';\nimport { decodeEntities } from '@wordpress/html-entities';\nimport { useEffect, useState } from '@wordpress/element';\nimport { BaseControl, SelectControl, TextControl } from '@wordpress/components';\n\n/**\n * Content component\n */\nconst Content = ( props ) => {\n\treturn ( props.text );\n};\n\n/**\n * \n * @link https://github.com/woocommerce/woocommerce-gutenberg-products-block/blob/trunk/docs/extensibility/checkout-flow-and-events.md#onpaymentprocessing\n */\nconst PaymentMethodContent = ( { description, fields, eventRegistration } ) => {\n\tconst { onPaymentProcessing } = eventRegistration;\n\n\tconst [ state, setState ] = useState();\n\n\tuseEffect( () => {\n\t\tconst unsubscribe = onPaymentProcessing( function() {\n\t\t\treturn {\n\t\t\t\ttype: 'success',\n\t\t\t\tmeta: {\n\t\t\t\t\tpaymentMethodData: state\n\t\t\t\t}\n\t\t\t};\n\t\t} );\n\n\t\treturn unsubscribe;\n\t}, [ onPaymentProcessing, state ] );\n\n\tfunction renderField( field ) {\n\t\t// Set default field value state.\n\t\tif ( undefined === state || ! state.hasOwnProperty( field.id ) ) {\n\t\t\tlet defaultValue = undefined;\n\n\t\t\tif ( field.hasOwnProperty( 'options' ) && field.options.length > 0 ) {\n\t\t\t\tlet [ firstOption ] = field.options;\n\n\t\t\t\tdefaultValue = firstOption.value;\n\t\t\t}\n\n\t\t\tsetState( state => ( { ...state, [ field.id ]: defaultValue } ) );\n\t\t}\n\n\t\tswitch( field.type ) {\n\t\t\tcase 'select':\n\t\t\t\treturn <SelectControl\n\t\t\t\t\tid={ field.id }\n\t\t\t\t\toptions={ field.options }\n\t\t\t\t\tonChange={ ( selection ) => setState( state => ( { ...state, [field.id]: selection } ) ) }\n\t\t\t\t/>\n\t\t\tcase 'date':\n\t\t\t\treturn <TextControl\n\t\t\t\t\tid={ field.id }\n\t\t\t\t\tname={ field.id }\n\t\t\t\t\ttype=\"date\"\n\t\t\t\t\tonChange={ ( value ) => setState( state => ( { ...state, [field.id]: value } ) ) }\n\t\t\t\t/>\n\t\t}\n\t}\n\n\tfunction renderError( field ) {\n\t\tif ( ! field.error ) {\n\t\t\treturn;\n\t\t}\n\n\t\treturn <div>\n\t\t\t{ field.error }\n\t\t</div>;\n\t}\n\n\treturn <>\n\t\t{ ( '' !== description || fields.length > 0 ) && <div>\n\t\t\t{ '' !== description && <div dangerouslySetInnerHTML={{__html: description}} /> }\n\n\t\t\t{ fields.map( ( field ) => (\n\t\t\t\t<div key={field.id}>\n\t\t\t\t\t<BaseControl\n\t\t\t\t\t\tid={ field.id }\n\t\t\t\t\t\tlabel={ field.label }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ renderField( field ) }\n\t\t\t\t\t\t{ renderError( field ) }\n\t\t\t\t\t</BaseControl>\n\t\t\t\t</div>\n\t\t\t) ) }\n\t\t</div> }\n\t</>\n}\n\n/**\n * Label component\n *\n * @param {*} props Props from payment API.\n */\nconst Label = ( props ) => {\n\tconst { PaymentMethodLabel } = props.components;\n\n\treturn <>\n\t\t{ '' !== props.icon &&\n\t\t\t<>\n\t\t\t\t<img src={ props.icon } />&nbsp;\n\t\t\t</>\n\t\t}\n\n\t\t{ '' !== props.title &&\n\t\t\t<PaymentMethodLabel text={ decodeEntities( props.title ) } />\n\t\t}\n\t</>;\n};\n\n/**\n * Register payment method.\n */\nexport function registerMethod( paymentMethodId ) {\n\tconst settings = getSetting( paymentMethodId + '_data', false );\n\n\t// Bail out if payment method is not enabled.\n\tif ( false === settings ) {\n\t\treturn;\n\t}\n\n\tconst title = settings.title || '';\n\n\tconst description = settings.description || '';\n\n\tregisterPaymentMethod( {\n\t\tname: paymentMethodId,\n\t\tlabel: <Label title={ title } icon={ settings.icon }/>,\n\t\tariaLabel: decodeEntities( title ),\n\t\tcontent: <PaymentMethodContent description={ description } fields={ settings.fields } />,\n\t\tedit: <Content text={ description }/>,\n\t\tplaceOrderButtonLabel: settings.orderButtonLabel || '',\n\t\tsupports: {\n\t\t\tfeatures: settings?.supports || [ 'products' ]\n\t\t},\n\t\tcanMakePayment: () => true\n\t} );\n};\n"],"names":["registerPaymentMethod","getSetting","decodeEntities","useEffect","useState","BaseControl","SelectControl","TextControl","Content","props","text","PaymentMethodContent","description","fields","eventRegistration","onPaymentProcessing","state","setState","unsubscribe","type","meta","paymentMethodData","renderField","field","undefined","hasOwnProperty","id","defaultValue","options","length","firstOption","value","selection","renderError","error","__html","map","label","Label","PaymentMethodLabel","components","icon","title","registerMethod","paymentMethodId","settings","name","ariaLabel","content","edit","placeOrderButtonLabel","orderButtonLabel","supports","features","canMakePayment"],"sourceRoot":""}